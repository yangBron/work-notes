import{_ as s,c as a,o as e,a1 as n}from"./chunks/framework.CdPWczmu.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"Notes/Command/算法EAS-RPC服务测试环境部署流程.md","filePath":"Notes/Command/算法EAS-RPC服务测试环境部署流程.md","lastUpdated":1722565193000}'),l={name:"Notes/Command/算法EAS-RPC服务测试环境部署流程.md"},p=n(`<h1 align="center" style="color:#000000;">算法EAS-RPC服务测试环境部署流程交接说明</h1><p><strong>测试环境地址：<a href="http://test-dc.eas.jc.in" target="_blank" rel="noreferrer">http://test-dc.eas.jc.in</a></strong></p><h2 id="算法服务架构位置" tabindex="-1">算法服务架构位置 <a class="header-anchor" href="#算法服务架构位置" aria-label="Permalink to &quot;算法服务架构位置&quot;">​</a></h2><p><img src="https://cdn.nlark.com/yuque/0/2024/png/22783797/1706838761556-02f8ee2c-8c43-4b02-81f3-bc04c689281d.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_26%2Ctext_c3BlY2hvLXd4Yw%3D%3D%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="image.png" data-fancybox="gallery"></p><h2 id="对应部署分支" tabindex="-1">对应部署分支 <a class="header-anchor" href="#对应部署分支" aria-label="Permalink to &quot;对应部署分支&quot;">​</a></h2><ul><li>测试环境默认推荐使用Develop分支部署，测试同学也可根据实际测试情况 部署其他测试子分支</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2024/png/22783797/1706838890189-65ea357e-018c-4d78-8e91-d34218d6a1d9.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_24%2Ctext_c3BlY2hvLXd4Yw%3D%3D%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="image.png" data-fancybox="gallery"></p><h2 id="部署方法" tabindex="-1">部署方法 <a class="header-anchor" href="#部署方法" aria-label="Permalink to &quot;部署方法&quot;">​</a></h2><ul><li>打镜像 -&gt; 推送镜像 -&gt; 部署镜像</li></ul><h2 id="打镜像" tabindex="-1">打镜像 <a class="header-anchor" href="#打镜像" aria-label="Permalink to &quot;打镜像&quot;">​</a></h2><ol><li>登录 <strong>eas@ubs05</strong><ul><li>登录指令 ssh eas@ubs05 密码请咨询</li></ul></li></ol><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>远程连接</span></span>
<span class="line"><span>ssh eas@ubs05</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.nlark.com/yuque/0/2024/png/22783797/1706839307608-aada1d0f-4f06-4e15-8d31-9548d54c3000.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_12%2Ctext_c3BlY2hvLXd4Yw%3D%3D%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="image.png" data-fancybox="gallery"></p><ol start="2"><li>进入<strong>eas-rpc</strong>相关项目文件夹，确认分支为：<strong>Develop</strong><ul><li>查看分支命令 git branch</li></ul></li></ol><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>检查当前分支</span></span>
<span class="line"><span>git branch</span></span>
<span class="line"><span></span></span>
<span class="line"><span>切换分支</span></span>
<span class="line"><span>git checkout 分支名称</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://cdn.nlark.com/yuque/0/2024/png/22783797/1706839478618-ff1a6e2b-0c23-436e-bfaa-7be8d23ea410.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_16%2Ctext_c3BlY2hvLXd4Yw%3D%3D%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="image.png" data-fancybox="gallery"></p><ol start="3"><li>确认<strong>Develop</strong>分支内容为远端最新内容 <ul><li>更新命令：git fetch origin ，git reset --hard origin/develop</li></ul></li></ol><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>同步远程仓库最新提交和分支信息</span></span>
<span class="line"><span>git fetch origin</span></span>
<span class="line"><span></span></span>
<span class="line"><span>指向远程仓库的develop</span></span>
<span class="line"><span>git reset --hard origin/develop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="4"><li>打镜像 与 推镜像</li></ol><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>打包: docker build -t docker.eas.jc.in/eas-rpc-server:[version] .</span></span>
<span class="line"><span>推送: docker push docker.eas.jc.in/eas-rpc-server:[version]</span></span>
<span class="line"><span>	</span></span>
<span class="line"><span>例子</span></span>
<span class="line"><span>docker build -t docker.eas.jc.in/eas-rpc-server:eas-test-202402011522 .</span></span>
<span class="line"><span>docker push docker.eas.jc.in/eas-rpc-server:eas-test-202402011522</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="部署镜像" tabindex="-1">部署镜像 <a class="header-anchor" href="#部署镜像" aria-label="Permalink to &quot;部署镜像&quot;">​</a></h2><ol><li>登录 <strong>eas@UBS08</strong><ul><li>登录指令 ssh eas@UBS08 密码请咨询</li></ul></li></ol><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ssh eas@UBS08</span></span>
<span class="line"><span>eas123</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li><p>进入test环境文件下，并找到对应的docker-compose.yml <img src="https://cdn.nlark.com/yuque/0/2024/png/22783797/1706843448063-9b4243eb-a9df-4673-8db2-7852bfb82655.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_12%2Ctext_c3BlY2hvLXd4Yw%3D%3D%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="image.png" data-fancybox="gallery"></p></li><li><p>通过vim 修改docker-compose.yml 中的发版的编号，并保存</p><ul><li>修改rpc-server中的 image字段 修改为刚刚推送的镜像名称</li></ul></li></ol><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>vim docker-compose.yml</span></span>
<span class="line"><span>i 进入编辑模式</span></span>
<span class="line"><span>:wq 保存</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://cdn.nlark.com/yuque/0/2024/png/22783797/1706843602203-1c20b9f3-1602-4d4b-a1e6-83b62bb57ed3.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_16%2Ctext_c3BlY2hvLXd4Yw%3D%3D%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="image.png" data-fancybox="gallery"></p><h2 id="重启服务" tabindex="-1">重启服务 <a class="header-anchor" href="#重启服务" aria-label="Permalink to &quot;重启服务&quot;">​</a></h2><ul><li>重新服务，更新镜像部署 <ul><li>done：更新成功</li><li>false：更新失败</li></ul></li></ul><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker-compose up -d</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,29),i=[p];function t(r,c,o,d,b,u){return e(),a("div",null,i)}const g=s(l,[["render",t]]);export{m as __pageData,g as default};
